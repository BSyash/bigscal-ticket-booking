{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apas\\\\Desktop\\\\p\\\\bus_ticket_booking\\\\src\\\\Buses\\\\Bus.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { emptySeats, getdataOfUsers, removeSeats, seats } from '../Features/BusTicketslice';\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Bus = _ref => {\n  _s();\n\n  var _ticketDetails$filter;\n\n  let {\n    ticketData\n  } = _ref;\n  const dispatch = useDispatch();\n  const selectedSit = useSelector(state => state.busTicket.selectedSeats);\n  const ticketDetails = useSelector(state => state.busTicket.ticketDetails);\n  const [seat, setseats] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]);\n  const history = useHistory();\n\n  const selectseat = e => {\n    console.log('targewt', e.target.value);\n    const className = e.target.className;\n\n    if (className == 'whitebox') {\n      const id = e.target.value;\n      dispatch(seats(id));\n      e.target.classList = 'greenbox';\n    } else {\n      e.target.className = 'whitebox';\n      const id = e.target.value;\n      const filter = selectedSit.filter(val => {\n        return val != id;\n      });\n      dispatch(removeSeats(filter));\n    }\n  };\n\n  let selectedSits = [];\n  const TicketDate = ticketDetails === null || ticketDetails === void 0 ? void 0 : (_ticketDetails$filter = ticketDetails.filter(Details => (Details === null || Details === void 0 ? void 0 : Details.date) == (ticketData === null || ticketData === void 0 ? void 0 : ticketData.date))) === null || _ticketDetails$filter === void 0 ? void 0 : _ticketDetails$filter.map(items => selectedSits.push(...items.selectedSeats));\n  console.log('selectedSits', selectedSits);\n\n  const Confirmseats = () => {\n    dispatch(getdataOfUsers({ ...ticketData,\n      selectedSeats: selectedSit\n    }));\n    dispatch(emptySeats());\n    swal({\n      title: \"Your sit Booked!\",\n      text: \"Enjoy the Journey!\",\n      icon: \"success\",\n      button: \"welCome!\"\n    });\n    history.push('/ticket');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"busSeats\",\n      children: seat.map((val, id) => {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"whitebox\",\n          value: val,\n          onClick: e => selectseat(e),\n          outline: true,\n          disabled: selectedSits === null || selectedSits === void 0 ? void 0 : selectedSits.includes(String(val)),\n          children: val\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => Confirmseats(),\n      children: \"Confirm\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Bus, \"y9rvTmWaQKJ/l8CNRSdooaes+zc=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useHistory];\n});\n\n_c = Bus;\nexport default Bus;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bus\");","map":{"version":3,"sources":["C:/Users/apas/Desktop/p/bus_ticket_booking/src/Buses/Bus.js"],"names":["React","useState","useDispatch","useSelector","useHistory","emptySeats","getdataOfUsers","removeSeats","seats","swal","Bus","ticketData","dispatch","selectedSit","state","busTicket","selectedSeats","ticketDetails","seat","setseats","history","selectseat","e","console","log","target","value","className","id","classList","filter","val","selectedSits","TicketDate","Details","date","map","items","push","Confirmseats","title","text","icon","button","includes","String"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { emptySeats, getdataOfUsers, removeSeats, seats } from '../Features/BusTicketslice'\r\nimport swal from 'sweetalert';\r\n\r\n\r\nconst Bus = ({ ticketData }) => {\r\n    const dispatch = useDispatch()\r\n    const selectedSit = useSelector(state => state.busTicket.selectedSeats)\r\n    const ticketDetails = useSelector(state => state.busTicket.ticketDetails)\r\n\r\n\r\n    const [seat, setseats] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18])\r\n    const history = useHistory()\r\n\r\n    const selectseat = (e) => {\r\n        console.log('targewt', e.target.value);\r\n\r\n        const className = e.target.className\r\n        if (className == 'whitebox') {\r\n            const id = e.target.value\r\n            dispatch(seats(id))\r\n            e.target.classList = 'greenbox'\r\n        } else {\r\n            e.target.className = 'whitebox'\r\n            const id = e.target.value\r\n            const filter = selectedSit.filter(\r\n                (val) => {\r\n                    return (val != id)\r\n                }\r\n            )\r\n            dispatch(removeSeats(filter))\r\n        }\r\n    }\r\n    let selectedSits = []\r\n    const TicketDate = ticketDetails?.filter((Details) => (\r\n        Details?.date == ticketData?.date\r\n    ))?.map(items => selectedSits.push(...items.selectedSeats))\r\n    console.log('selectedSits', selectedSits);\r\n\r\n\r\n    const Confirmseats = () => {\r\n        dispatch(getdataOfUsers({ ...ticketData, selectedSeats: selectedSit }))\r\n        dispatch(emptySeats())\r\n        swal({\r\n            title: \"Your sit Booked!\",\r\n            text: \"Enjoy the Journey!\",\r\n            icon: \"success\",\r\n            button: \"welCome!\",\r\n        })\r\n        history.push('/ticket')\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <div className='busSeats'>\r\n                {seat.map((val, id) => {\r\n\r\n\r\n                    return (<button className='whitebox' value={val} onClick={(e) => selectseat(e)} key={id} outline disabled={selectedSits?.includes(String(val))}  >{val}</button>)\r\n                })}\r\n            </div>\r\n            <button onClick={() => Confirmseats()}>Confirm</button>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Bus\r\n"]},"metadata":{},"sourceType":"module"}